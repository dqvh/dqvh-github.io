<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Juego del Impostor - Edici√≥n F√∫tbol</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:Arial, sans-serif; background:linear-gradient(135deg,#667eea,#764ba2); min-height:100vh; display:flex; justify-content:center; align-items:center; padding:20px;}
    .container{background:#fff; border-radius:20px; padding:30px; box-shadow:0 20px 40px rgba(0,0,0,0.1); text-align:center; max-width:720px; width:100%; min-height:560px; display:flex; flex-direction:column; justify-content:center;}
    h1,h2{color:#333; margin-bottom:20px;}
    input,select{width:100%; padding:10px; margin:8px 0; border:2px solid #ddd; border-radius:10px; font-size:16px;}
    button{background:linear-gradient(135deg,#667eea,#764ba2); color:#fff; border:none; padding:12px 20px; border-radius:20px; cursor:pointer; margin:6px 0; width:100%;}
    button:hover{opacity:0.9;}
    .btn-secondary{background:#6c757d;}
    .btn-success{background:#28a745;}
    .btn-warning{background:#ffc107; color:#111;}
    .btn-danger{background:#dc3545;}
    .role-card{border:2px solid #ddd; border-radius:15px; padding:20px; margin:10px 0; min-height:160px; display:flex; flex-direction:column; justify-content:center;}
    .impostor-card{background:linear-gradient(135deg,#ff6b6b,#ee5a52); color:#fff;}
    .innocent-card{background:linear-gradient(135deg,#51cf66,#40c057); color:#fff;}
    .timer{font-size:32px; font-weight:bold; color:#ff4757; margin:16px 0;}
    .warning{background:#fff3cd; border:1px solid #ffeaa7; color:#856404; padding:10px; border-radius:10px;}
    .player-image{max-width:70%; border-radius:10px; margin-top:10px;}
    .secret-hints{position:fixed; bottom:70px; right:10px; width:300px; background:#111; color:#fff; border-radius:10px; padding:10px; display:none; z-index:10; font-size:14px;}
    .secret-hints.visible{display:block;}
    .stealth-btn{position:fixed; bottom:10px; right:10px; width:16px; height:16px; border-radius:50%; background:#000; opacity:0.5; cursor:pointer; z-index:20; display:none;}
  </style>
</head>
<body>
  <div class="container">
    <!-- Pantallas -->
    <div class="setup-screen" id="setupScreen">
      <h1>üïµÔ∏è Juego del Impostor - F√∫tbol</h1>
      <p>Eleg√≠ el modo de jugadores</p>
      <select id="playerPoolMode">
        <option value="all" selected>De todo</option>
        <option value="historical">Hist√≥ricos</option>
        <option value="current">Actuales</option>
        <option value="retired">Retirados</option>
        <option value="famous">Demasiado famosos</option>
      </select>
      <select id="playerCount">
        <option value="3">3 Jugadores</option><option value="4">4</option><option value="5" selected>5</option>
        <option value="6">6</option><option value="7">7</option><option value="8">8</option><option value="9">9</option><option value="10">10</option>
      </select>
      <button onclick="setupPlayers()">üöÄ Configurar Jugadores</button>
    </div>

    <div class="player-setup-screen" id="playerSetupScreen" style="display:none;">
      <h2>üìù Nombres de Jugadores</h2>
      <div id="playerNamesContainer"></div>
      <button class="btn-success" onclick="continueToOrderSelection()">‚úÖ Continuar</button>
      <button class="btn-secondary" onclick="goHome()">üè† Inicio</button>
    </div>

    <div class="order-screen" id="orderScreen" style="display:none;">
      <h2>üß≠ Eleg√≠ qui√©n empieza</h2>
      <select id="startPlayerSelect"></select>
      <ol id="orderPreviewList"></ol>
      <button class="btn-success" onclick="startRoundFromOrder()">‚ñ∂Ô∏è Iniciar Ronda</button>
    </div>

    <div class="transfer-screen" id="transferScreen" style="display:none;">
      <h2>üì± Pasar Tel√©fono</h2>
      <div class="warning">Pas√° el tel√©fono a <span id="nextPlayerName"></span></div>
      <button class="btn-success" onclick="showPlayerRole()">üîç Descubrir Mi Rol</button>
    </div>

    <div class="game-screen" id="gameScreen" style="display:none;">
      <h2 id="playerTitle"></h2>
      <div class="role-card" id="roleCard"><div id="roleText"></div><div id="themeText"></div><div id="themeImage"></div></div>
      <button class="btn-danger" onclick="finishPlayerTurn()" id="finishButton">‚úÖ Listo</button>
    </div>

    <div class="discussion-screen" id="discussionScreen" style="display:none;">
      <h2>üí¨ Discusi√≥n</h2>
      <div class="timer" id="discussionTimer">3:00</div>
      <button class="btn-warning" onclick="showResults()">üé≠ Revelar Resultados</button>
    </div>

    <div class="results-screen" id="resultsScreen" style="display:none;">
      <h2>üé≠ Resultados</h2>
      <div id="resultsContent"></div>
      <button class="btn-success" onclick="nextRound()">üîÅ Nueva Ronda</button>
      <button class="btn-danger" onclick="hardReset()">üßπ Reinicio</button>
    </div>
  </div>

  <!-- Bot√≥n stealth -->
  <div id="stealthBtn" class="stealth-btn"></div>

  <!-- Panel secreto -->
  <div id="secretHints" class="secret-hints">
    <h3>üîç Pistas</h3>
    <p id="hintPosition">Posici√≥n: ‚Äî</p>
    <p id="hintNation">Nacionalidad: ‚Äî</p>
    <p id="hintStatus">Estado: ‚Äî</p>
    <p id="hintTeams">Equipos: ‚Äî</p>
    <p id="hintTitles">T√≠tulos: ‚Äî</p>
    <button onclick="hideSecretHints()">Ocultar</button>
  </div>

  <script>
  // =================== Pools ===================
  // (Pego aqu√≠ el bloque completo de pools grandes que hicimos antes)
 // ===== Pools completos =====

// ~340 jugadores, con 200 europeos + Argentina, Brasil, Uruguay, M√©xico, Colombia, Chile, etc.
const allPlayers = [
  // Argentina
  "Diego Maradona","Lionel Messi","Gabriel Batistuta","Juan Rom√°n Riquelme","Ariel Ortega","Carlos Tevez","Hern√°n Crespo","Javier Zanetti","Fernando Redondo","Claudio Caniggia",
  "Oscar Ruggeri","Roberto Ayala","Sergio Ag√ºero","√Ångel Di Mar√≠a","Javier Mascherano","Emiliano Mart√≠nez","Lisandro Mart√≠nez","Nicol√°s Otamendi","Diego Simeone","Pablo Aimar",
  "Maxi Rodr√≠guez","Esteban Cambiasso","Walter Samuel","Papu G√≥mez","Gonzalo Higua√≠n","Ezequiel Lavezzi","Leandro Paredes","Rodrigo De Paul","Alexis Mac Allister","Mario Kempes",
  "Daniel Passarella","Ricardo Bochini","Javier Saviola","Jorge Burruchaga","√Ångel Labruna","Hugo Gatti","Juan Sebasti√°n Ver√≥n",
  // Brasil
  "Pel√©","Garrincha","Zico","S√≥crates","Tost√£o","Rivelino","Rom√°rio","Bebeto","Ronaldo Naz√°rio","Ronaldinho","Kak√°","Rivaldo",
  "Cafu","Roberto Carlos","Dida","Gilberto Silva","Thiago Silva","Dani Alves","Casemiro","Neymar","Vin√≠cius J√∫nior","Rodrygo",
  "Gabriel Jesus","Raphinha","Adriano","Juninho Pernambucano","Fred","Edmundo","Dunga","Lucas Paquet√°",
  // Uruguay
  "Obdulio Varela","Juan Alberto Schiaffino","H√©ctor Scarone","Enzo Francescoli","Diego Forl√°n","Luis Su√°rez","Edinson Cavani","Diego God√≠n","Jos√© Gim√©nez","Fernando Muslera",
  "√Ålvaro Recoba","R√∫ben Sosa","Darwin N√∫√±ez","Federico Valverde","Rodrigo Bentancur","Gast√≥n Ram√≠rez","Mat√≠as Vecino","Giorgian De Arrascaeta","Sebasti√°n Abreu","Mart√≠n C√°ceres",
  // M√©xico
  "Hugo S√°nchez","Cuauht√©moc Blanco","Jared Borgetti","Claudio Su√°rez","Luis Hern√°ndez","P√°vel Pardo","Rafael M√°rquez","Andr√©s Guardado","Giovani dos Santos","Carlos Vela",
  "Oribe Peralta","Guillermo Ochoa","H√©ctor Herrera","Ra√∫l Jim√©nez","Jes√∫s Corona","Jonathan dos Santos","Carlos Salcido","Francisco Fonseca","Luis Garc√≠a","Javier Hern√°ndez",
  // Colombia
  "Carlos Valderrama","Ren√© Higuita","Freddy Rinc√≥n","Faustino Asprilla","Iv√°n C√≥rdoba","Mario Yepes","Radamel Falcao","James Rodr√≠guez","Juan Cuadrado","David Ospina",
  "Luis D√≠az","Te√≥filo Guti√©rrez","Andr√©s Escobar","Adolfo Valencia","Leonel √Ålvarez","Jackson Mart√≠nez","Carlos Bacca","Yerry Mina","Mateus Uribe","Jeison Murillo",
  // Chile y Andes
  "Iv√°n Zamorano","Marcelo Salas","Claudio Bravo","Alexis S√°nchez","Arturo Vidal","Gary Medel","Charles Ar√°nguiz","Jean Beausejour","Eduardo Vargas","Jorge Valdivia",
  "Paolo Guerrero","Jefferson Farf√°n","Te√≥filo Cubillas","Nolberto Solano","Juan Reynoso","Roque Santa Cruz","Jos√© Luis Chilavert","Justo Villar","Miguel Almir√≥n","Salvador Caba√±as",
  // Europa hist√≥ricos
  "Johan Cruyff","Marco van Basten","Ruud Gullit","Frank Rijkaard","Ronald Koeman","Dennis Bergkamp","Arjen Robben","Robin van Persie","Wesley Sneijder","Edwin van der Sar",
  "Paolo Maldini","Franco Baresi","Alessandro Nesta","Fabio Cannavaro","Andrea Pirlo","Francesco Totti","Alessandro Del Piero","Gianluigi Buffon","Giorgio Chiellini","Daniele De Rossi",
  "Roberto Baggio","Paolo Rossi","Gaetano Scirea","Gennaro Gattuso","Filippo Inzaghi","Christian Vieri","Luca Toni","Ciro Immobile","Federico Chiesa","Lorenzo Insigne","Nicolo Barella",
  "Zinedine Zidane","Thierry Henry","Michel Platini","David Trezeguet","Didier Deschamps","Patrick Vieira","Claude Mak√©l√©l√©","Franck Rib√©ry","Laurent Blanc","Marcel Desailly",
  "Cristiano Ronaldo","Luis Figo","Eus√©bio","Pepe","Bernardo Silva","Bruno Fernandes","Jo√£o F√©lix","Jo√£o Cancelo","Diogo Jota","Rui Costa","Juan Mata","Gianfranco Zola","Eric Cantona",
  "Franz Beckenbauer","Gerd M√ºller","Lothar Matth√§us","Oliver Kahn","Michael Ballack","Philipp Lahm","Bastian Schweinsteiger","Mesut √ñzil","Toni Kroos","Manuel Neuer",
  "George Best","Bobby Charlton","Bobby Moore","Wayne Rooney","David Beckham","Paul Scholes","Steven Gerrard","Frank Lampard","John Terry","Rio Ferdinand",
  "Alan Shearer","Michael Owen","Gary Lineker","Harry Kane","Marcus Rashford",
  "Iker Casillas","Xavi Hern√°ndez","Andr√©s Iniesta","Carles Puyol","Sergio Ramos","Fernando Hierro","Ra√∫l Gonz√°lez","Fernando Torres","David Villa","Isco","Gerard Piqu√©","Sergio Busquets",
  "Lev Yashin","Andriy Shevchenko","Oleksandr Zinchenko","Robert Lewandowski","Grzegorz Krychowiak","Wojciech Szczƒôsny","Miroslav Klose","Ilkay G√ºndogan","Joshua Kimmich","Mario G√∂tze",
  "Luka Modriƒá","Ivan Rakitiƒá","Mario Mand≈æukiƒá","Davor ≈†uker","Zvonimir Boban","Robert Prosineƒçki","Hristo Stoichkov","Dimitar Berbatov","Gheorghe Hagi",
  "Henrik Larsson","Zlatan Ibrahimoviƒá","Jari Litmanen","Christian Eriksen","Michael Laudrup","Brian Laudrup","Peter Schmeichel",
  "George Weah","Jay-Jay Okocha","Nwankwo Kanu","Samuel Eto‚Äôo","Roger Milla","Didier Drogba","Michael Essien","Yaya Tour√©","Kolo Tour√©",
  // Europa actuales top
  "Kylian Mbapp√©","Erling Haaland","Kevin De Bruyne","Karim Benzema","Mohamed Salah","Sadio Man√©","Riyad Mahrez","Hakim Ziyech","Son Heung-min",
  "Antoine Griezmann","Ousmane Demb√©l√©","Kingsley Coman","Jamal Musiala","Kai Havertz","Mason Mount","Phil Foden","Bukayo Saka","Declan Rice","Jack Grealish",
  "Bruno Fernandes","Jo√£o F√©lix","Jo√£o Cancelo","R√∫ben Dias","Virgil van Dijk","Andrew Robertson","Trent Alexander-Arnold","Alisson Becker","Ederson",
  "Thibaut Courtois","Jan Oblak","Marc-Andr√© ter Stegen","Gianluigi Donnarumma","Achraf Hakimi","Theo Hern√°ndez","Rapha√´l Varane","Dayot Upamecano","Jules Kound√©",
  "Federico Valverde","Rodrygo","Lautaro Mart√≠nez","Paulo Dybala","√Ålvaro Morata","Gerard Moreno","Nico Williams","Mikel Oyarzabal","√Ångel Correa"
];

// 60 hist√≥ricos
const historicalPlayers = [
  "Pel√©","Diego Maradona","Johan Cruyff","Alfredo Di St√©fano","Ferenc Pusk√°s","Eus√©bio","George Best","Bobby Charlton","Bobby Moore","Franz Beckenbauer",
  "Paolo Maldini","Franco Baresi","Roberto Baggio","Marco van Basten","Ruud Gullit","Michel Platini","Zico","S√≥crates","Rivelino","Mario Kempes","Daniel Passarella","Oscar Ruggeri",
  "Hugo Gatti","Ubaldo Fillol","Garrincha","Lev Yashin","Just Fontaine","Gerd M√ºller","Paolo Rossi","Gaetano Scirea","Andriy Shevchenko","George Weah",
  "Didier Drogba","Hristo Stoichkov","Henrik Larsson","David Beckham","Ra√∫l Gonz√°lez","Luis Figo","Thierry Henry","Zinedine Zidane","Ronaldo Naz√°rio","Ronaldinho","Roberto Carlos",
  "Cafu","Patrick Vieira","Claude Mak√©l√©l√©","Oliver Kahn","Michael Ballack","Lothar Matth√§us","Matthias Sammer","Eric Cantona","Juan Sebasti√°n Ver√≥n","Fernando Redondo"
];

// 60 actuales
const currentPlayers = [
  "Lionel Messi","Cristiano Ronaldo","Kylian Mbapp√©","Erling Haaland","Kevin De Bruyne","Robert Lewandowski","Mohamed Salah","Harry Kane","Karim Benzema","Luka Modriƒá",
  "Toni Kroos","Casemiro","Vin√≠cius J√∫nior","Jude Bellingham","Pedri","Gavi","Frenkie de Jong","Phil Foden","Bukayo Saka","Declan Rice","Jack Grealish",
  "Bruno Fernandes","Marcus Rashford","Jo√£o F√©lix","Jo√£o Cancelo","R√∫ben Dias","Bernardo Silva","Virgil van Dijk","Andrew Robertson","Trent Alexander-Arnold","Alisson Becker",
  "Ederson","Thibaut Courtois","Jan Oblak","Marc-Andr√© ter Stegen","Manuel Neuer","Gianluigi Donnarumma","Achraf Hakimi","Theo Hern√°ndez","Rapha√´l Varane","Dayot Upamecano",
  "Antoine Griezmann","Ousmane Demb√©l√©","Kingsley Coman","Jamal Musiala","Kai Havertz","Joshua Kimmich","Leon Goretzka","Federico Valverde","Rodrygo","Lautaro Mart√≠nez",
  "√Ångel Di Mar√≠a","Paulo Dybala","√Ålvaro Morata","Gerard Moreno","Nico Williams","Mikel Oyarzabal","Dani Carvajal","Achraf Hakimi","Jo√£o Cancelo","Jules Kound√©"
];

// 60 retirados
const retiredPlayers = [
  "Diego Maradona","Ronaldo Naz√°rio","Ronaldinho","Zinedine Zidane","Thierry Henry","David Beckham","Steven Gerrard","Frank Lampard","Xavi Hern√°ndez","Andr√©s Iniesta",
  "Iker Casillas","Carles Puyol","Fernando Hierro","Fernando Torres","David Villa","Ra√∫l Gonz√°lez","Marco Materazzi","Alessandro Nesta","Fabio Cannavaro","Gianluca Zambrotta",
  "Pavel Nedvƒõd","Miroslav Klose","Oliver Kahn","Michael Ballack","Claude Mak√©l√©l√©","Patrick Vieira","Didier Drogba","Samuel Eto‚Äôo","Francesco Totti","Alessandro Del Piero",
  "Roberto Ayala","Pablo Aimar","Juan Rom√°n Riquelme","Gabriel Batistuta","Hern√°n Crespo","Claudio L√≥pez","√Ångel Labruna","Hugo Gatti","Oscar Ruggeri","Daniel Passarella",
  "Hugo S√°nchez","Carlos Valderrama","Iv√°n Zamorano","Marcelo Salas","√Ålvaro Recoba","Diego Forl√°n","Enzo Francescoli","George Weah","Eric Cantona","Juan Sebasti√°n Ver√≥n",
  "Fernando Redondo","Gianfranco Zola","Michael Owen","Juan Mata","Ricardo Bochini","Jorge Burruchaga"
];

// 60 super famosos
const superFamous = [
  "Pel√©","Diego Maradona","Lionel Messi","Cristiano Ronaldo","Johan Cruyff","Zinedine Zidane","Franz Beckenbauer","Ronaldinho","Ronaldo Naz√°rio","David Beckham",
  "Thierry Henry","Kylian Mbapp√©","Erling Haaland","Neymar","Andr√©s Iniesta","Xavi Hern√°ndez","Paolo Maldini","Roberto Baggio","Luis Figo","Iker Casillas",
  "Gianluigi Buffon","George Best","Gabriel Batistuta","Juan Rom√°n Riquelme","Sergio Ag√ºero","√Ångel Di Mar√≠a","Karim Benzema","Robert Lewandowski","Kevin De Bruyne","Mohamed Salah",
  "Virgil van Dijk","Manuel Neuer","Oliver Kahn","Miroslav Klose","Philipp Lahm","Wayne Rooney","Steven Gerrard","Frank Lampard","Ra√∫l Gonz√°lez","Sergio Ramos",
  "Gerard Piqu√©","Ronald Koeman","Marco van Basten","Ruud Gullit","Patrick Vieira","Claude Mak√©l√©l√©","Luis Su√°rez","Edinson Cavani","Diego Forl√°n","Didier Drogba",
  "Samuel Eto‚Äôo","George Weah","Eus√©bio","Andriy Shevchenko","Arjen Robben","Dennis Bergkamp","Eric Cantona","Zlatan Ibrahimoviƒá","Michael Owen","Peter Schmeichel"
];

  
  // =================== Estado ===================
  let gameData = { playerCount:5, playerNames:[], playerOrder:[], startingPlayerIndex:1, currentPlayer:0, impostorIndex:-1, theme:'', usedThemes:new Set() };

  // =================== Flujo ===================
  const screens = ["setupScreen","playerSetupScreen","orderScreen","transferScreen","gameScreen","discussionScreen","resultsScreen"];
  function showScreen(id){ screens.forEach(s=>document.getElementById(s).style.display=(s===id?"block":"none")); hideSecretHints(); }

  function goHome(){ showScreen("setupScreen"); }
  function setupPlayers(){ gameData.playerCount=parseInt(document.getElementById("playerCount").value); renderPlayerInputs(); showScreen("playerSetupScreen"); }
  function renderPlayerInputs(){ const c=document.getElementById("playerNamesContainer"); c.innerHTML=""; for(let i=1;i<=gameData.playerCount;i++){const inp=document.createElement("input"); inp.id="playerName"+i; inp.placeholder="Jugador "+i; c.appendChild(inp);} }
  function continueToOrderSelection(){ gameData.playerNames=[]; for(let i=1;i<=gameData.playerCount;i++){ gameData.playerNames[i]=document.getElementById("playerName"+i).value||("Jugador "+i);} buildDefaultOrder(); populateStartSelect(); updateOrderPreview(gameData.startingPlayerIndex); showScreen("orderScreen"); }
  function buildDefaultOrder(){ gameData.playerOrder=Array.from({length:gameData.playerCount},(_,i)=>i+1); }
  function populateStartSelect(){ const sel=document.getElementById("startPlayerSelect"); sel.innerHTML=""; for(let i=1;i<=gameData.playerCount;i++){const o=document.createElement("option"); o.value=i; o.textContent=gameData.playerNames[i]; sel.appendChild(o);} sel.onchange=()=>updateOrderPreview(parseInt(sel.value)); }
  function updateOrderPreview(start){ gameData.startingPlayerIndex=start; const order=rotateOrder(start); const list=document.getElementById("orderPreviewList"); list.innerHTML=""; order.forEach(idx=>{const li=document.createElement("li"); li.textContent=gameData.playerNames[idx]; list.appendChild(li);}); }
  function rotateOrder(start){ const arr=Array.from({length:gameData.playerCount},(_,i)=>i+1); const pos=arr.indexOf(start); return arr.slice(pos).concat(arr.slice(0,pos)); }
  function startRoundFromOrder(){ gameData.playerOrder=rotateOrder(gameData.startingPlayerIndex); prepareRound(); }
  function prepareRound(){ gameData.currentPlayer=0; pickTheme(); gameData.impostorIndex=Math.floor(Math.random()*gameData.playerCount)+1; showTransfer(); }
  function pickTheme(){ const pool=buildPlayerPool(); let cand=pool.filter(p=>!gameData.usedThemes.has(p)); if(cand.length===0){gameData.usedThemes.clear(); cand=pool;} gameData.theme=cand[Math.floor(Math.random()*cand.length)]; gameData.usedThemes.add(gameData.theme); }
  function buildPlayerPool(){ const m=document.getElementById("playerPoolMode").value; if(m==="historical") return historicalPlayers; if(m==="current") return currentPlayers; if(m==="retired") return retiredPlayers; if(m==="famous") return superFamous; return allPlayers; }
  function showTransfer(){ if(gameData.currentPlayer<gameData.playerCount){ const next=gameData.playerOrder[gameData.currentPlayer]; document.getElementById("nextPlayerName").textContent=gameData.playerNames[next]; showScreen("transferScreen"); } else { startDiscussion(); } }
  function showPlayerRole(){ gameData.currentPlayer++; showScreen("gameScreen"); updatePlayerScreen(); }
  function updatePlayerScreen(){ const abs=gameData.playerOrder[gameData.currentPlayer-1]; const name=gameData.playerNames[abs]; document.getElementById("playerTitle").textContent=name; const card=document.getElementById("roleCard"); if(abs===gameData.impostorIndex){ card.className="role-card impostor-card"; document.getElementById("roleText").textContent="üé≠ Eres el impostor"; document.getElementById("themeText").textContent="No sabes qui√©n es el jugador secreto"; } else { card.className="role-card innocent-card"; document.getElementById("roleText").textContent="üë• Inocente"; document.getElementById("themeText").textContent="Jugador secreto: "+gameData.theme; } document.getElementById("finishButton").textContent=(gameData.currentPlayer===gameData.playerCount)?"‚úÖ Listo - Discusi√≥n":"‚úÖ Listo - Continuar"; attachSecretModeIfNeeded(name); }
  function finishPlayerTurn(){ showTransfer(); }
  function startDiscussion(){ showScreen("discussionScreen"); startTimer(); }
  function startTimer(){ let t=180; const el=document.getElementById("discussionTimer"); const int=setInterval(()=>{ const m=Math.floor(t/60),s=t%60; el.textContent=m+":"+s.toString().padStart(2,"0"); if(t--<=0){clearInterval(int); showResults();}},1000);}
  function showResults(){ showScreen("resultsScreen"); document.getElementById("resultsContent").innerHTML="<p>Impostor: "+gameData.playerNames[gameData.impostorIndex]+"</p><p>Jugador secreto: "+gameData.theme+"</p>"; }
  function nextRound(){ showScreen("orderScreen"); }
  function hardReset(){ location.reload(); }

  // =================== Panel secreto stealth ===================
  const SECRET_NAMES=new Set(["feli","felipe"]);
  function normalizeName(s){return (s||"").toLowerCase().normalize("NFD").replace(/\p{Diacritic}/gu,"");}
  function isSecretUser(n){return SECRET_NAMES.has(normalizeName(n));}
  function attachSecretModeIfNeeded(currentName){const btn=document.getElementById("stealthBtn"); if(isSecretUser(currentName)){btn.style.display="block"; let timer; btn.onmousedown=btn.ontouchstart=()=>{timer=setTimeout(()=>showSecretHints(),700);}; btn.onmouseup=btn.ontouchend=()=>clearTimeout(timer);} else {btn.style.display="none";}}
  function showSecretHints(){document.getElementById("secretHints").classList.add("visible"); document.getElementById("hintPosition").textContent="Posici√≥n: ‚öΩ"; document.getElementById("hintNation").textContent="Nacionalidad: üåç"; document.getElementById("hintStatus").textContent="Estado: ‚Äî"; document.getElementById("hintTeams").textContent="Equipos: ‚Äî"; document.getElementById("hintTitles").textContent="T√≠tulos: ‚Äî";}
  function hideSecretHints(){document.getElementById("secretHints").classList.remove("visible");}
  </script>
</body>
</html>
